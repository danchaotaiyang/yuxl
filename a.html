<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <style>
        .container {
            padding-top: 50px;
        }
        
        .container div {
            border: 1px solid #333;
            padding: 15px;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="col-md-8 col-md-push-4">
        左
    </div>
    <div class="col-md-4 col-md-pull-8">
        右
    </div>
    <form action="" id="aa" method="post" enctype="multipart/form-data">
        <input type="file" name="fe" id="fe">
        <input type="submit" value="a">
    </form>
</div>
<script src="https://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>

<!--[if IE]>
<script src="promise.min.js"></script>
<![endif]-->
<script>
    var userAgent = navigator.userAgent;
    console.log(userAgent);
    console.log('Promise' in window);
    console.log(window);
    
    function timeout() {
        return new Promise(function (resolve, reject) {
            resolve({
                a: 'a',
                b: 'b'
            })
        });
    }
    
    $(document).on('click', function () {
        timeout()
            .then(function (value) {
                console.log(value.b);
            });
    });

    function timeout1(ms) {
      return new Promise((resolve, reject) => {
        setTimeout(resolve, ms, 'done');
      });
    }

    timeout1(1000).then((value) => {
      console.log(value);
    });
    
    /*
     var a = {
     b() {
     console.log(this);
     },
     c: ()=> {
     console.log(this);
     }
     };
     
     a.b();
     a.c();
     */
    
    
    /*
     Notification
     .requestPermission()
     .then((permission) => {
     if (permission !== 'granted') {
     alert('需要允许桌面通知');
     return false;
     }
     let ntf = new Notification('临时通知');
     console.log(permission);
     })
     .catch((err)=> {
     console.log(err);
     });
     */
    
    $('input[type=submit]').on('click', function (e) {
        e.preventDefault();
        var formData = new FormData($('#aa')[0]);
        formData.append("myfile", document.getElementById("fe").files[0]);
        console.log(formData);
    });
    
    /*
     if ('Notification' in window) {
     if (Notification.checkPermission() == 0) {
     var n = new Notification("abshu.com html5桌面通知", {body: "这里是通知内容"});
     /!*
     var n = Notification("../../img/logo_s.gif", 'ABshu.com', $("#msg").val());
     //n.display = function() {}
     //n.onerror = function() {}
     //n.onclose = function() {}
     n.onclick = function() {this.cancel();}
     n.replaceId = "abshu";
     n.show();
     *!/
     }else{
     alert("需要允许桌面通知");
     window.webkitNotifications.requestPermission();
     }
     }else{
     alert("浏览器不支持桌面通知");
     }
     */
</script>
</body>
</html>


